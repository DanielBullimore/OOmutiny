<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>OoMutiny.1.0.GameLoop</title>
        <script type="text/javascript" src="../../O.js"></script>
        <script type="text/javascript" src="../../o.class.js"></script>
    <script>
      var numBenchmarkSolarYear;
      var executions = 0;
      var collisions = 1;


      function funCollisionDetect(strThisPlanet)
      {
        for (strPlanet in threads)
        { 
          if (strPlanet !== strThisPlanet && threads[strThisPlanet].numExeT.valueOf() == threads[strPlanet].numExeT.valueOf())
          {
          collisions++; 
          }
        }
      }

//###How Space was made>>>
function Draw()
{
  var mainCanvas = window.document.getElementById("main");
  if (mainCanvas.getContext)
  {
  var mainCanvasContext = mainCanvas.getContext('2d');
  mainCanvasContext.fillStyle = "black";
  //mainCanvasContext.fillRect(0,0,100,100);
  mainCanvasContext.beginPath();
  mainCanvasContext.arc(50, 50, 33, 0, 2 * Math.PI);
  mainCanvasContext.closePath;
  mainCanvasContext.fill();
  mainCanvasContext.beginPath();
  mainCanvasContext.strokeStyle = "yellow";
  mainCanvasContext.fillStyle = "yellow";
  mainCanvasContext.arc(50, 50, 5, 0, 2 * Math.PI);
  mainCanvasContext.closePath();
  mainCanvasContext.fill();
  mainCanvasContext.strokeStyle = "red";
  mainCanvasContext.moveTo(50, 50);
  mainCanvasContext.lineTo(50, 100);
  mainCanvasContext.stroke();
  mainCanvasContext.closePath();
  delete mainCanvasContext
  }
  else { alert("no"); }
}
//###Some Tools>>>
      // Cosine but converts degrees to radians.
      function dcos(degrees) {
      return Math.cos(degrees * Math.PI / 180);
      };
      // Sine but converts degrees to radians.
      function dsin(degrees) {
      return Math.sin(degrees * Math.PI / 180);
      };
    </script>
</head>
<body>
  <canvas id=main width=1000 height=100 style="position:fixed;top:1;left:1;"></canvas>
<table width=1000 border=1 id="there">
  <tr><td >Base</td><td colspan=4>Threads</td></tr>
  <tr><td id=year></td><td>Mercury</td><td>Venus</td><td>Earth</td><td>Mars</td></tr>
  <tr><td>executions</td><td id="mercury">0</td><td id="venus">0</td><td id="earth">0</td><td id="mars">0</td></tr>
  <tr><td>rate</td><td id="cmercury">0</td><td id="cvenus">0</td><td id="cearth">0</td><td id="cmars">0</td></tr>
  <tr><td>exe/sec</td><td id="tmercury">0</td><td id="tvenus">0</td><td id="tearth">0</td><td id="tmars">0</td></tr>
  <tr><td>Total of</td><td id=total></td><td>executions</td><td id=exe></td><td id=coor>HW opt</td></tr>
</table>
<canvas id="bencher" style="position:static;width:1000px:height:0px"></canvas>
<script>
//###Space>>
      Draw()
//###Energy>>
      funBenchmark();
//###Home-Planet>>>      
      var oinDrawEarth = new o();
        oinDrawEarth.booRepeat = true;
        oinDrawEarth.numExecutions = 0;
        oinDrawEarth.numCycles = 1;
        oinDrawEarth.booActOrSolve = true;
        //Earth Planet as object
        threads.earth.color = "green";
        threads.earth.orbitRadius=(100/4)
        threads.earth.name="Earth";
        threads.earth.xco=50;
        threads.earth.yco=50;
        threads.earth.orbitDegree= 360/4;
        threads.earth.radius=4;
        threads.earth.degree=4
      oinDrawEarth.funAct = function()
        {
          executions++;
          x = window.document.getElementById("earth").innerHTML;
          x++;
          window.document.getElementById("earth").innerHTML = x.toPrecision(8);
          window.document.getElementById("cearth").innerHTML = ((x/executions)*100).toPrecision(6)+"%";
          z = 1000/(numBenchmarkSolarYear/4);
          window.document.getElementById("tearth").innerHTML = z.toPrecision(8);

                    threads.earth.render("main");
        };
//###Mars>>
        /*oinDrawMars = new o();
        oinDrawMars.booRepeat = true;
        oinDrawMars.numCycles = 1;
        oinDrawMars.booActOrSolve = true;
        oinDrawMars.numExecutions = 0;*/
        //Mars Planet as object
        threads.mars.color = "Red";
        threads.mars.orbitRadius=(100/3)
        threads.mars.name="Mars"
        threads.mars.xco=50;
        threads.mars.yco=50;
        threads.mars.orbitDegree= 360/4;
        threads.mars.radius=3;
        threads.mars.degree=3;
      /*oinDrawMars.funAct = function()
       {
          executions++;
          x = window.document.getElementById("mars").innerHTML;
          x++;
          window.document.getElementById("mars").innerHTML = x.toPrecision(8);
          window.document.getElementById("cmars").innerHTML = ((x/executions)*100).toPrecision(8)+"%";
          z = 1000/(numBenchmarkSolarYear/3);
          window.document.getElementById("tmars").innerHTML = z.toPrecision(8);
          document.getElementById("exe").innerHTML = (1+executions/collisions*.001).toFixed(6)+"exe/ms";
          document.getElementById("total").innerHTML = executions;

          document.getElementById("year").innerHTML=numBenchmarkSolarYear;
          Draw() //planets leave trails with out a reframe       
          objMars.render("main");

      };*/
//###Mercury>>
      var oinDrawMercury = new o();
        oinDrawMercury.booRepeat = true;
        oinDrawMercury.numCycles = 1;
        oinDrawMercury.booActOrSolve = true;
        oinDrawMercury.numExecutions = 0;
        //Mercury Planet as object
        threads.mercury.color = "brown";
        threads.mercury.orbitRadius=(100/11)
        threads.mercury.name="mercury" //with two r
        threads.mercury.xco=50;
        threads.mercury.yco=50;
        threads.mercury.orbitDegree= 360/11;
        threads.mercury.radius=2;
        threads.mercury.degree=11;
      oinDrawMercury.funAct = function()
      {
        executions++;
        x = window.document.getElementById("mercury").innerHTML;
        x++;
        window.document.getElementById("mercury").innerHTML = x.toPrecision(8);
        window.document.getElementById("cmercury").innerHTML = ((x/executions)*100).toPrecision(6)+"%";
        z = 1000/(numBenchmarkSolarYear/11);
        window.document.getElementById("tmercury").innerHTML = z.toPrecision(8);
        //objMercury.render("main");
        threads.mercury.render("main");

      };
//###Venus>>
      var oinDrawVenus = new o();
        oinDrawVenus.booRepeat = true;
        oinDrawVenus.numCycles = 1;
        oinDrawVenus.booActOrSolve = true;
        oinDrawVenus.numExecutions = 0;
        //Venus Planet as object
        threads.venus.color = "purple";
        threads.venus.orbitRadius=(100/7)
        threads.venus.name="venus"
        threads.venus.xco=50;
        threads.venus.yco=50;
        threads.venus.orbitDegree= 360/7;
        threads.venus.radius=3;
        threads.venus.degree=7
      oinDrawVenus.funAct = function()
      {
        executions++;
        x = window.document.getElementById("venus").innerHTML;
        x++;
        window.document.getElementById("venus").innerHTML = x.toPrecision(8);
        window.document.getElementById("cvenus").innerHTML = ((x/executions)*100).toPrecision(6)+"%";
        z = 1000/(numBenchmarkSolarYear/7);
        window.document.getElementById("tvenus").innerHTML = z.toPrecision(8);
        threads.venus.render("main");      
      };
//###ADD JOBS>>>      
      funOoAppointment(0,oinDrawMercury);
      funOoAppointment(1,oinDrawVenus);
      funOoAppointment(2,oinDrawEarth);
      //funOoAppointment(0,oinDrawMars);
//###BOOM!>>>
/* interval should be part of the loop function*/

      funStartLoop();
      
</script>
Copyright 2020 Daniel Bullimore
//# OOmutiny is licensed under the BSD 3-Clause "New" or "Revised" License
//# To view a copy of this license, visit https://github.com/DanielBullimore/OOmutiny/blob/master/LICENSE
</body>

</html>